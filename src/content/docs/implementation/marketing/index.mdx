---
title: Marketing technology and SEO
description: Optimize your Adobe Commerce site for SEO and social media with proper data layers, schema.org annotations, metadata, canonical URLs, and redirects.
---

In addition to typical marketing technology stacks, Adobe Commerce sites usually use Adobe Client Data Layer to expose Commerce data and events. This data can be read by custom analytics implementations and should also be sent back to Adobe Commerce.

## Commerce instrumentation

For Live Search and Product Recommendation APIs to work correctly, it is required to collect and send user interaction events to Commerce:

* To power intelligent Adobe Sensei features, like Intelligent Merchandizing for Live Search, and to personalize product recommendations units.
* To populate the performance dashboard for Live Search and Product Recommendations, which provides information about conversion metrics
  * [Product Recommendations workspace](https://experienceleague.adobe.com/en/docs/commerce-merchant-services/product-recommendations/admin/workspace)
  * [Live Search performance workspace](https://experienceleague.adobe.com/en/docs/commerce-merchant-services/live-search/live-search-admin/performance)

The boilerplate includes the [Adobe Client Data Layer (ACDL)](https://github.com/adobe/adobe-client-data-layer) by default.

* It uses a custom, more lightweight version that is suitable to be loaded early in Edge Delivery Services. For example, https://github.com/adobe/adobe-client-data-layer/pull/155.
* To validate events, you can use https://github.com/adobe/adobe-client-data-layer/pull/156.

Events written to ACDL must comply to a specific schema as defined by the [Storefront Event SDK](https://github.com/adobe/commerce-events/tree/main/packages/storefront-events-sdk).

* For performance considerations, Adobe highly recommends writing events to the ACDL directly without using the Events SDK.
* Dropins and widgets will send events to ACDL out of the box, but double check the correctness of all events.

Commerce events should be sent to Snowplow to continuously learn from the data and improve recommendations and search results.

* The boilerplate loads [Storefront Events Collector](https://github.com/adobe/commerce-events/tree/main/packages/storefront-events-collector) in the delayed phase to automatically send those events.
* For the collector to work, ensure that the configuration file is properly populated with all configuration parameters. The configuration parameters are a mix between those that are required for Catalog Service access and some specific to data services. The easiest way to retrieve them is using the `magento/module-data-services-graphql` module, which exposes additional GraphQL functionality.

## Schema.org data (JSON-LD)

* Please ensure that all Commerce pages (in particular PDP & PLP) add schema.org (JSON-LD) annotations to expose product data.

* Make sure you cover at least the following types: WebSite, Product, AggregateRating, Rating, BreadcrumbList.

* Compare to what data was available on the site before migrating to Edge Delivery.
  * Note: Make sure that SKU's for all variants from products are also included
  * Use: https://search.google.com/test/rich-results to test 
  * The PDP dropin in the boilerplate contains an example for JSON-LD data.

* If you are using Google Shopping features (e.g. products available on shopping.google.com), please consider schema.org annotations with critical priority. Invalid data will be flagged by Google which leads to a delisting of the customer's products and financial impact.

## Metadata and social media

* Please ensure that all pages including catalog pages (PDP & PLP) the following data set and verified:
  * Document title via title tag
  * Metadata via meta tags
    * `description`
    * `keywords`
    * `og:type`
    * `og:title`
    * `og:description`
    * `og:url`
    * `og:image`
    * `og:image:secure_url`
    * `og:product:price:amount`
    * `og:product:price:currency`

* While Google is fine with metadata set via client-side JavaScript, these will be ignored by other social media platforms like Facebook or Twitter/X. For these platforms, metadata needs to server-side rendered.

* Please leverage the [bulk metadata](https://www.aem.live/docs/bulk-metadata) feature for this and create the metadata sheet in an automated way, for example using [this](https://github.com/hlxsites/aem-boilerplate-commerce/pull/72) script. Alternatively the usage of an edge worker is also possible.

## SEO considerations

* When PDPs have multiple URLs, please ensure to set a consistent canonical URL for each product.
* **Ensure that canonical URLs do not point to redirects (301).**
* Please provide access to Google Search Console / Google Merchant Center to the Adobe team so they can help detect issues after go-live.
* Submit new sitemaps via the Search Console, as Google takes a while to detect new sitemaps.
* If the site is using more than one sitemap, ensure that all sitemaps are referenced in robots.txt
* **Important for multi store setups or stores supporting multiple locales:**
    * Ensure a correct hreflang setup (see https://www.aem.live/developer/sitemap#specifying-the-primary-language-manually).
    * You can validate sitemaps using https://technicalseo.com/tools/hreflang/
    * Please ensure that the store code is part of the URL for every Catalog Service or Live Search request.
      * This can be assured by proxying the Catalog Service endpoint through Fastly, e.g. [www.merchant.com/de/cs-graphql.](http://www.merchant.com/de/cs-graphql.)
      * Alternatively you can also add a query parameter. This however does not work with dropins.
      * This is required, as the Google Bot caches Catalog Service responses without considering headers. Not adding the store code to the URL might lead to wrong data being indexed by Google.

* Ensure proper redirects are set up using the redirects sheet or via CDN:
    * Fallbacks for any potential URL changes (e.g. product URLs or missing .html suffix)
    * Redirects that are set up in Adobe Commerce.